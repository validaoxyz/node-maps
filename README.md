# node-maps

A script to generate location data and an accompanying leaflet-based map.

Given a list of IPs, such as generated by [cometbft-crawler](https://github.com/validaoxyz/cometbft-crawler), sources geographical and registrant data from GeoLite2 DB, and outputs it in a csv file in the format of:

```
ip,country,city,lat,long,ASN,ISP,moniker,version
```

This can then be used with [node-charts](https://github.com/validaoxyz/cometbft-charts) to generate Pygal charts of the contry, ISP, and city distributions.

## Usage
To run, have a file ready with the format:
```
ip,moniker,version
```
And run:
```
pip install -r requirements.txt
python run ips-to-location.py <input.csv> <output.csv>
```

### Testing output
You can run a local webserver and test the map with leaflet.
From the /webserver directory:
```
python3 server.py
```